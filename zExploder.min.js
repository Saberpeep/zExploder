var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,e){if(c){b=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var p=a[e];p in b||(b[p]={});b=b[p]}a=a[a.length-1];e=b[a];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,b){var e=this;e instanceof String&&(e=String(e));var c=e.length;for(b=b||0;b<c;b++)if(e[b]==a||Object.is(e[b],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,c,b){if(null==a)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6","es3");
(function(a){function c(){var a=document.createElement("script");a.src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js";a.type="text/javascript";a.onload=function(){b()};document.getElementsByTagName("head")[0].appendChild(a)}function b(){function b(a){a=$(a);a=parseInt(a.css("z-index"));isNaN(a)&&(a=0);return a}function c(a,b){a?w=a:a=w;b?q=b:b=q;return"translateZ("+b+"vh) rotateY("+a+"deg)"}a.layers=[];$(document);$(window);var k=$("html"),r=$("body");document.getElementsByTagName("body");
var f=[],t=$("*").filter(function(){if("auto"!=$(this).css("z-index")){var a=b(this);f.includes(a)||f.push(a);return!0}return!1});a.DEBUG_MODE&&console.log("zExploder: elements with z-index set: ",t);f=f.sort(function(a,b){return a-b});a.DEBUG_MODE&&console.log("zExploder: unique z-indexes: ",f);-1==f.indexOf(0)&&(f.push(0),f=f.sort(function(a,b){return a-b}));for(var m=0,d=0;d<f.length;d++)a.layers.push({zIndex:f[d],els:[]}),0>f[d]&&m++;t.each(function(v){v=b(this);for(var c=0;c<a.layers.length;c++)v==
a.layers[c].zIndex&&($.data(this,"layer",c),a.layers[c].els.push(this))});console.log("zExploder: layers generated: ",a.layers);a.DEBUG_MODE&&console.log("zExploder: layerBaseline: ",m);var q,w;k.css({perspective:a.BASE_PERSPECTIVE+"px","background-color":"#2e2e2e",height:"100%"});r.css({"transform-style":"preserve-3d","transform-origin":"center",transform:c(a.STARTING_ANGLE,a.STARTING_ZOOM),"user-select":"none",height:"100%"});for(d=0;d<a.layers.length;d++)for(var u=0;u<a.layers[d].els.length;u++){var l=
$(a.layers[d].els[u]),x=l.parents().filter(function(){var a=this,b=!1;t.each(function(c){this==a&&(b=!0)});return b}),n=0;x.each(function(){n+=$.data(this,"layer")-m});0!=n&&a.DEBUG_MODE&&console.log("zExploder: Element adjusted by parent depth",n,"("+d+" - "+m+" - "+n+")",l[0],x);l.css({transform:"translateZ("+a.LAYER_DEPTH*(d-m-n)+"px)",border:"1px solid red"});"none"!=l.css("display")&&"hidden"!=l.css("visibility")||l.css({display:"initial",visibility:"visible",border:"1px solid blue"})}d=$("*").filter(function(){return"none"!=
$(this).css("transform")});a.DEBUG_MODE&&console.log("zExploder: elements with transform set: ",d,"(changing to preserve-3d...)");d.css("transform-style","preserve-3d");d=$("*").filter(function(){return"fixed"==$(this).css("position")});a.DEBUG_MODE&&console.log("zExploder: elements with position set to fixed: ",d,"(changing to absolute...)");d.css("position","absolute");var g=0,h,y=!0;k.on("mousedown",function(b){y?(h=b.pageX-g-a.STARTING_ANGLE,y=!1):h=b.pageX-g;a.DEBUG_MODE&&console.log("zExploder: mouse down - startX: ",
h)}).on("mouseup",function(){a.DEBUG_MODE&&console.log("zExploder: mouse up");h=null});k[0].onmousemove=function(b){h&&(g=b.pageX-h,360<g&&(g=0,h=b.pageX-g),0>g&&(g=360,h=b.pageX-g),r.css("transform",c(g)),a.DEBUG_MODE&&console.log("zExploder: mouse drag - offset: ",g));k[0].onmouseleave=function(b){a.DEBUG_MODE&&console.log("zExploder: mouse out");$("#demowrap").trigger("mouseup")}};$("img").on("mousedown",function(b){a.DEBUG_MODE&&console.log("zExploder: image drag prevented");b.preventDefault()});
$("img").on("mousemove",function(a){a.preventDefault()});k[0].addEventListener("wheel",function(b){a.DEBUG_MODE&&console.log("zExploder: wheel");b.preventDefault();r.css("transform",c(null,q+=b.deltaY/-10))},!1);window.addEventListener("scroll",function(b){k.css("perspective",a.BASE_PERSPECTIVE+window.scrollY+"px");a.DEBUG_MODE&&console.log("zExploder: adjusting perspective...",a.BASE_PERSPECTIVE+window.scrollY)})}a.init=function(){if(a.ALREADY_RUNNING)return b();a.ALREADY_RUNNING=!0;a.LAYER_DEPTH=
100;a.STARTING_ANGLE=45;a.STARTING_ZOOM=-100;a.BASE_PERSPECTIVE=2E3;a.DEBUG_MODE=!1;"undefined"===typeof jQuery||"3.2.1">jQuery.fn.jquery?(console.log("zExploder: jQuery 3.2.1 or greater not present, loading jQ"),c()):b()}})(window.zExploder=window.zExploder||{});
